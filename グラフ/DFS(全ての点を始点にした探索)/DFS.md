# DFS(全ての点を始点にした探索)

Created: May 02, 2020 11:47 AM
Property: ape iria
Property 2: No
Tags: graph

各節点を始点として深さ優先探索を行うとき、そのつど訪問フラグv[]を0クリアしておく。

main関数変えただけ。

```c
#include <stdio.h>

#define N 8 //点の数

int a[N+1][N+1]={{0,0,0,0,0,0,0,0,0},   //隣接行列
                {0,0,1,0,0,0,0,0,0},
                {0,1,0,1,1,0,0,0,0},
                {0,0,1,0,0,0,0,1,0},
                {0,0,1,0,0,1,0,0,0},
                {0,0,0,0,1,0,1,0,0},
                {0,0,0,0,0,1,0,1,1},
                {0,0,0,1,0,0,1,0,1},
                {0,0,0,0,0,0,1,1,0}};
int v[N+1];

void visit(int);

void main(){
    int i,k;
    for (k = 1; k <=N ; k++) {
        for (i = 1; i <=N; i++)
            v[i]=0;
        visit(k);
        printf("\n");
    }
}
void visit(int i){
    int j;
    v[i]=1;
    for (j = 1; j <=N ; j++) {
        if(a[i][j]==1 && v[j]==0){
            printf(" %d->%d",i,j);
            visit(j);
        }
    }
}
```

実行結果

```c
1->2 2->3 3->7 7->6 6->5 5->4 6->8
2->1 2->3 3->7 7->6 6->5 5->4 6->8
3->2 2->1 2->4 4->5 5->6 6->7 7->8
4->2 2->1 2->3 3->7 7->6 6->5 6->8
5->4 4->2 2->1 2->3 3->7 7->6 6->8
6->5 5->4 4->2 2->1 2->3 3->7 7->8
7->3 3->2 2->1 2->4 4->5 5->6 6->8
8->6 6->5 5->4 4->2 2->1 2->3 3->7
```